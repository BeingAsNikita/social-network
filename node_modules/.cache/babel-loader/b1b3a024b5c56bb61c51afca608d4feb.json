{"ast":null,"code":"import { profileAPI, usersAPI } from \"../api/api\";\nconst ADD_POST = 'ADD_POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\nconst GET_PROFILE_STATUS = 'GET_PROFILE_STATUS';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst UPDATE_PROFILE_STATUS = 'UPDATE_PROFILE_STATUS';\nlet initialState = {\n  profile: null,\n  status: '',\n  posts: [{\n    id: 1,\n    name: 'Morgenshtern',\n    message: 'Здарова, ублюдки!',\n    url: 'https://i.pinimg.com/736x/ed/16/b9/ed16b9f0a63be6e6ab3a35da48031fb9.jpg'\n  }, {\n    id: 2,\n    name: 'Юра',\n    message: 'Погнали в маунтэнблейд!!!!',\n    url: 'https://sun9-31.userapi.com/c849020/v849020113/195ec6/dm8KtRenxiQ.jpg'\n  }, {\n    id: 3,\n    name: 'Марго',\n    message: 'Я НЕ КРЫЫЫСАА!!!',\n    url: 'https://sun9-2.userapi.com/c855620/v855620606/2bb8b/G1QRRFVfHhs.jpg'\n  }, {\n    id: 4,\n    name: 'Никита',\n    message: 'Я летаю словно рыс!',\n    url: 'https://scontent-hel2-1.cdninstagram.com/v/t51.2885-19/s150x150/83175097_608160346627556_1983433867435966464_n.jpg?_nc_ht=scontent-hel2-1.cdninstagram.com&_nc_ohc=I6kC_JJCgZIAX_qJjLq&oh=732502044e9338ee2b5b63e7f40b23d4&oe=5EB726D1'\n  }],\n  newPostText: ''\n};\nexport const profileReduser = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let stateCopy = { ...state\n        };\n\n        if (stateCopy.newPostText !== '' && stateCopy.newPostText !== undefined) {\n          let newPost = {\n            id: stateCopy.posts.length + 1,\n            date: new Date().getDate(),\n            name: 'Мартишок',\n            message: stateCopy.newPostText,\n            url: ''\n          };\n          stateCopy = { ...state,\n            posts: [...state.posts, newPost],\n            newPostText: ''\n          };\n          return stateCopy;\n        }\n      }\n    // eslint-disable-next-line\n\n    case UPDATE_NEW_POST_TEXT:\n      return { ...state,\n        newPostText: action.payload\n      };\n\n    case SET_USER_PROFILE:\n      return { ...state,\n        profile: action.payload\n      };\n\n    case GET_PROFILE_STATUS:\n      debugger;\n      return { ...state,\n        status: action.payload\n      };\n\n    /*     case UPDATE_PROFILE_STATUS:\n          return { ...state, status: action.payload } */\n\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updateNewPostActionCreator = text => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    payload: text\n  };\n};\nexport const setUserProfileSuccess = data => {\n  return {\n    type: SET_USER_PROFILE,\n    payload: data\n  };\n};\nexport const getUserStatusSuccess = status => {\n  return {\n    type: GET_PROFILE_STATUS,\n    payload: status\n  };\n};\nexport const updateUserStatusSuccess = status => {\n  return {\n    type: UPDATE_PROFILE_STATUS,\n    payload: status\n  };\n};\nexport const setUser = id => {\n  return dispatch => {\n    usersAPI.getProfile(id).then(res => {\n      dispatch(setUserProfileSuccess(res));\n    });\n  };\n};\nexport const getUserStatus = id => {\n  return dispatch => {\n    profileAPI.getStatus(id).then(res => {\n      dispatch(getUserStatusSuccess(res));\n    });\n  };\n};\nexport const updateUserStatus = status => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(res => {\n      if (res.data.resultCode === 0) {\n        dispatch(updateUserStatusSuccess(status));\n      }\n    });\n  };\n};\nexport default profileReduser;","map":{"version":3,"sources":["/home/nikita/Documents/it-kama/it-kama/src/redux/profileReduser.js"],"names":["profileAPI","usersAPI","ADD_POST","UPDATE_NEW_POST_TEXT","GET_PROFILE_STATUS","SET_USER_PROFILE","UPDATE_PROFILE_STATUS","initialState","profile","status","posts","id","name","message","url","newPostText","profileReduser","state","action","type","stateCopy","undefined","newPost","length","date","Date","getDate","payload","addPostActionCreator","updateNewPostActionCreator","text","setUserProfileSuccess","data","getUserStatusSuccess","updateUserStatusSuccess","setUser","dispatch","getProfile","then","res","getUserStatus","getStatus","updateUserStatus","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import { profileAPI,usersAPI } from \"../api/api\";\n\n\nconst ADD_POST = 'ADD_POST';\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\nconst GET_PROFILE_STATUS = 'GET_PROFILE_STATUS';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst UPDATE_PROFILE_STATUS = 'UPDATE_PROFILE_STATUS';\n\n\n\n\nlet initialState = {\n  profile: null,\n  status: '',\n  posts: [\n    {\n      id: 1,\n      name: 'Morgenshtern',\n      message: 'Здарова, ублюдки!',\n      url: 'https://i.pinimg.com/736x/ed/16/b9/ed16b9f0a63be6e6ab3a35da48031fb9.jpg'\n    },\n    {\n      id: 2,\n      name: 'Юра',\n      message: 'Погнали в маунтэнблейд!!!!',\n      url: 'https://sun9-31.userapi.com/c849020/v849020113/195ec6/dm8KtRenxiQ.jpg'\n    },\n    {\n      id: 3,\n      name: 'Марго',\n      message: 'Я НЕ КРЫЫЫСАА!!!',\n      url: 'https://sun9-2.userapi.com/c855620/v855620606/2bb8b/G1QRRFVfHhs.jpg'\n    },\n    {\n      id: 4,\n      name: 'Никита',\n      message: 'Я летаю словно рыс!',\n      url: 'https://scontent-hel2-1.cdninstagram.com/v/t51.2885-19/s150x150/83175097_608160346627556_1983433867435966464_n.jpg?_nc_ht=scontent-hel2-1.cdninstagram.com&_nc_ohc=I6kC_JJCgZIAX_qJjLq&oh=732502044e9338ee2b5b63e7f40b23d4&oe=5EB726D1'\n    },\n  ],\n  newPostText: ''\n}\n\nexport const profileReduser = (state = initialState, action) => {\n\n  switch (action.type) {\n    case ADD_POST: {\n      let stateCopy = {\n        ...state,\n      }\n      if (stateCopy.newPostText !== '' && stateCopy.newPostText !== undefined) {\n        let newPost = {\n          id: stateCopy.posts.length + 1,\n          date: new Date().getDate(),\n          name: 'Мартишок',\n          message: stateCopy.newPostText,\n          url: ''\n        }\n        stateCopy = {\n          ...state,\n          posts: [...state.posts, newPost],\n          newPostText: ''\n        };\n        return stateCopy\n      }\n    }\n    // eslint-disable-next-line\n    case UPDATE_NEW_POST_TEXT:\n      return {\n        ...state,\n        newPostText: action.payload\n      }\n\n    case SET_USER_PROFILE:\n      return { ...state, profile: action.payload }\n\n    case GET_PROFILE_STATUS:\n      debugger\n      return { ...state, status: action.payload }\n\n/*     case UPDATE_PROFILE_STATUS:\n      return { ...state, status: action.payload } */\n      \n    default:\n      return state\n  }\n}\n\nexport const addPostActionCreator = () => ({ type: ADD_POST })\nexport const updateNewPostActionCreator = (text) => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    payload: text,\n  }\n}\n\nexport const setUserProfileSuccess = (data) => {\n  return {\n    type: SET_USER_PROFILE,\n    payload: data,\n  }\n}\n\nexport const getUserStatusSuccess = (status) => {\n  return {\n    type: GET_PROFILE_STATUS,\n    payload: status,\n  }\n}\n\nexport const updateUserStatusSuccess = (status) => {\n  return {\n    type: UPDATE_PROFILE_STATUS,\n    payload: status,\n  }\n}\n\nexport const setUser = (id) => {\n  return dispatch => {\n    usersAPI.getProfile(id).then(res => {\n      dispatch(setUserProfileSuccess(res))\n    })\n  }\n}\n\nexport const getUserStatus = (id) => {\n  return dispatch => {\n    profileAPI.getStatus(id).then(res => {\n      dispatch(getUserStatusSuccess(res))\n    })\n  }\n}\n\nexport const updateUserStatus = (status) => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(res => {\n      if (res.data.resultCode === 0) {\n        dispatch(updateUserStatusSuccess(status))\n      }\n    })\n  }\n}\nexport default profileReduser;"]},"metadata":{},"sourceType":"module"}