{"ast":null,"code":"import { profileAPI, usersAPI } from \"../api/api\";\nconst ADD_POST = 'ADD_POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst DELETE_POST = 'DELETE_POST';\nconst GET_PROFILE_STATUS = 'GET_PROFILE_STATUS';\nlet initialState = {\n  profile: null,\n  status: '',\n  posts: [{\n    id: 1,\n    name: 'Morgenshtern',\n    message: 'Здарова, ублюдки!',\n    url: 'https://i.pinimg.com/736x/ed/16/b9/ed16b9f0a63be6e6ab3a35da48031fb9.jpg'\n  }, {\n    id: 2,\n    name: 'Юра',\n    message: 'Погнали в маунтэнблейд!!!!',\n    url: 'https://sun9-31.userapi.com/c849020/v849020113/195ec6/dm8KtRenxiQ.jpg'\n  }, {\n    id: 3,\n    name: 'Марго',\n    message: 'Я НЕ КРЫЫЫСАА!!!',\n    url: 'https://sun9-2.userapi.com/c855620/v855620606/2bb8b/G1QRRFVfHhs.jpg'\n  }, {\n    id: 4,\n    name: 'Никита',\n    message: 'Я летаю словно рыс!',\n    url: 'https://scontent-hel2-1.cdninstagram.com/v/t51.2885-19/s150x150/83175097_608160346627556_1983433867435966464_n.jpg?_nc_ht=scontent-hel2-1.cdninstagram.com&_nc_ohc=I6kC_JJCgZIAX_qJjLq&oh=732502044e9338ee2b5b63e7f40b23d4&oe=5EB726D1'\n  }]\n};\nexport const profileReduser = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        let postMessage = action.payload;\n        return { ...state,\n          posts: [...state.posts, {\n            id: 5,\n            name: 'Никита',\n            message: postMessage\n          }]\n        };\n      }\n\n    case DELETE_POST:\n      {\n        return { ...state,\n          posts: { ...state,\n            posts: state.posts.filter(p => action.payload !== p.id)\n          }\n        };\n      }\n    // eslint-disable-next-line\n\n    case SET_USER_PROFILE:\n      return { ...state,\n        profile: action.payload\n      };\n\n    case GET_PROFILE_STATUS:\n      return { ...state,\n        status: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\nexport const addPostActionCreator = message => ({\n  type: ADD_POST,\n  payload: message\n});\nexport const deletePostActionCreator = id => ({\n  type: DELETE_POST,\n  payload: id\n});\nexport const setUserProfileSuccess = data => {\n  return {\n    type: SET_USER_PROFILE,\n    payload: data\n  };\n};\nexport const getUserStatusSuccess = status => {\n  return {\n    type: GET_PROFILE_STATUS,\n    payload: status\n  };\n};\nexport const setUser = id => {\n  return async dispatch => {\n    let res = await usersAPI.getProfile(id);\n    dispatch(setUserProfileSuccess(res));\n    dispatch(getUserStatus(id));\n  };\n};\nexport const getUserStatus = id => {\n  return dispatch => {\n    profileAPI.getStatus(id).then(res => {\n      dispatch(getUserStatusSuccess(res));\n    });\n  };\n};\nexport const updateUserStatus = status => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(res => {\n      if (res.data.resultCode === 0) {\n        dispatch(getUserStatusSuccess(status));\n      }\n    });\n  };\n};\nexport default profileReduser;","map":{"version":3,"sources":["/home/nikita/Documents/it-kama/it-kama/src/redux/profileReduser.js"],"names":["profileAPI","usersAPI","ADD_POST","SET_USER_PROFILE","DELETE_POST","GET_PROFILE_STATUS","initialState","profile","status","posts","id","name","message","url","profileReduser","state","action","type","postMessage","payload","filter","p","addPostActionCreator","deletePostActionCreator","setUserProfileSuccess","data","getUserStatusSuccess","setUser","dispatch","res","getProfile","getUserStatus","getStatus","then","updateUserStatus","updateStatus","resultCode"],"mappings":"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","sourcesContent":["import { profileAPI, usersAPI } from \"../api/api\";\n\n\nconst ADD_POST = 'ADD_POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst DELETE_POST = 'DELETE_POST';\nconst GET_PROFILE_STATUS = 'GET_PROFILE_STATUS';\n\n\n\n\nlet initialState = {\n  profile: null,\n  status: '',\n  posts: [\n    {\n      id: 1,\n      name: 'Morgenshtern',\n      message: 'Здарова, ублюдки!',\n      url: 'https://i.pinimg.com/736x/ed/16/b9/ed16b9f0a63be6e6ab3a35da48031fb9.jpg'\n    },\n    {\n      id: 2,\n      name: 'Юра',\n      message: 'Погнали в маунтэнблейд!!!!',\n      url: 'https://sun9-31.userapi.com/c849020/v849020113/195ec6/dm8KtRenxiQ.jpg'\n    },\n    {\n      id: 3,\n      name: 'Марго',\n      message: 'Я НЕ КРЫЫЫСАА!!!',\n      url: 'https://sun9-2.userapi.com/c855620/v855620606/2bb8b/G1QRRFVfHhs.jpg'\n    },\n    {\n      id: 4,\n      name: 'Никита',\n      message: 'Я летаю словно рыс!',\n      url: 'https://scontent-hel2-1.cdninstagram.com/v/t51.2885-19/s150x150/83175097_608160346627556_1983433867435966464_n.jpg?_nc_ht=scontent-hel2-1.cdninstagram.com&_nc_ohc=I6kC_JJCgZIAX_qJjLq&oh=732502044e9338ee2b5b63e7f40b23d4&oe=5EB726D1'\n    },\n  ],\n\n}\n\nexport const profileReduser = (state = initialState, action) => {\n\n  switch (action.type) {\n    case ADD_POST: {\n      let postMessage = action.payload\n      return {\n        ...state,\n        posts: [...state.posts, { id: 5, name: 'Никита', message: postMessage }]\n      }\n    }\n\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: { ...state, posts: state.posts.filter(p => action.payload !== p.id) }\n      }\n    }\n    // eslint-disable-next-line\n\n    case SET_USER_PROFILE:\n      return { ...state, profile: action.payload }\n\n    case GET_PROFILE_STATUS:\n      return { ...state, status: action.payload }\n\n\n    default:\n      return state\n  }\n}\n\nexport const addPostActionCreator = (message) => ({ type: ADD_POST, payload: message })\nexport const deletePostActionCreator = (id) => ({ type: DELETE_POST, payload: id })\n\n\nexport const setUserProfileSuccess = (data) => {\n  return {\n    type: SET_USER_PROFILE,\n    payload: data,\n  }\n}\n\nexport const getUserStatusSuccess = (status) => {\n  return {\n    type: GET_PROFILE_STATUS,\n    payload: status,\n  }\n}\n\n\n\nexport const setUser = (id) => {\n  return async dispatch => {\n    let res = await usersAPI.getProfile(id)\n    dispatch(setUserProfileSuccess(res))\n    dispatch(getUserStatus(id))\n  }\n}\n\nexport const getUserStatus = (id) => {\n  return dispatch => {\n    profileAPI.getStatus(id).then(res => {\n      dispatch(getUserStatusSuccess(res))\n    })\n  }\n}\n\nexport const updateUserStatus = (status) => {\n  return dispatch => {\n    profileAPI.updateStatus(status).then(res => {\n      if (res.data.resultCode === 0) {\n        dispatch(getUserStatusSuccess(status))\n      }\n    })\n  }\n}\nexport default profileReduser;"]},"metadata":{},"sourceType":"module"}